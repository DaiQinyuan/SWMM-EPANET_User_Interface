<HTML><HEAD><TITLE>Rule Evaluation</TITLE><META NAME="GENERATOR" CONTENT="ForeHTML Pro 2.0">
<STYLE TYPE="text/css"><!-- 

     .BannerBase { font-size: 12pt ; font-weight: bold; margin: 5pt  0pt  5pt  0pt ; font-family: Arial,sans-serif;  }
     .Base { font-size: 10pt ; margin: 6pt  0pt  0pt  0pt ; font-family: Arial,sans-serif;  }
     .Base1 { font-size: 10pt ; margin: 6pt  0pt  0pt  0pt ; font-family: Arial,sans-serif;  }
     .BodyText2 { font-size: 12pt ; margin: 0pt  36pt  0pt  36pt ; font-family: Times New Roman,serif;  }
     .BodyText21 { font-size: 12pt ; margin: 0pt  36pt  0pt  36pt ; font-family: Times New Roman,serif;  }
     .Bullet1 { font-size: 10pt ; font-family: Arial,sans-serif;  }
     .Bullet2 { font-size: 10pt ; margin: 6pt  18pt  0pt  18pt ; text-indent: -18pt ; font-family: Arial,sans-serif;  }
     .Bullet3 { font-size: 10pt ; margin: 6pt  18pt  0pt  18pt ; text-indent: -18pt ; font-family: Arial,sans-serif;  }
     .Bullet4 { font-size: 10pt ; font-family: Arial,sans-serif;  }
     .Bullet5 { font-size: 10pt ; font-family: Arial,sans-serif;  }
     .ButtonBar { font-size: 6pt ; font-weight: bold; margin: 5pt  -0.1in  5pt  -0.1in ; font-family: Arial,sans-serif;  }
     .HeadingBase { font-size: 11pt ; margin: 7pt  0pt  0pt  0pt ; line-height: 11pt ; font-family: Arial,sans-serif;  }
     .HeadingBase1 { font-size: 11pt ; margin: 7pt  0pt  0pt  0pt ; line-height: 11pt ; font-family: Arial,sans-serif;  }
     .HTMLBASE { font-size: 12pt ; margin: 0pt  1px  0pt  0pt ; font-family: Times New Roman,serif;  }
     BODY { margin: 0pt  1px  0pt  0pt ;  }
     .Indented { font-size: 10pt ; margin: 6pt  18pt  0pt  18pt ; font-family: Arial,sans-serif;  }
     .List { font-size: 11pt ; margin: 0pt  18pt  0pt  18pt ; text-indent: -18pt ; font-family: Times New Roman,serif;  }
     .ListBullet { font-size: 11pt ; margin: 6pt  90pt  0pt  90pt ; text-indent: -18pt ; font-family: Times New Roman,serif;  }
     .ListBullet1 { font-size: 11pt ; margin: 6pt  90pt  0pt  90pt ; text-indent: -18pt ; font-family: Times New Roman,serif;  }
     .ListNumber { font-size: 11pt ; margin: 6pt  90pt  0pt  90pt ; text-indent: -18pt ; font-family: Times New Roman,serif;  }
     .ListNumber1 { font-size: 11pt ; margin: 6pt  90pt  0pt  90pt ; text-indent: -18pt ; font-family: Times New Roman,serif;  }
     .List1 { font-size: 11pt ; margin: 0pt  18pt  0pt  18pt ; text-indent: -18pt ; font-family: Times New Roman,serif;  }
     .Normal { font-size: 12pt ; margin: 0pt  1px  0pt  0pt ; font-family: Times New Roman,serif;  }
     .Normal1 { font-size: 12pt ; margin: 0pt  1px  0pt  0pt ; font-family: Times New Roman,serif;  }
     .Number1 { font-size: 10pt ; font-family: Arial,sans-serif;  }
     .Number2 { font-size: 10pt ; font-family: Arial,sans-serif;  }
     .Number3 { font-size: 10pt ; font-family: Arial,sans-serif;  }
     .Number4 { font-size: 10pt ; font-family: Arial,sans-serif;  }
     .Number5 { font-size: 10pt ; font-family: Arial,sans-serif;  }

--></STYLE>
</HEAD>

<BODY BGPROPERTIES=FIXED>
<!--ForeHelp.Banner-->

<P STYLE="font-size: 12pt ; font-weight: bold; margin: 5pt  0pt  5pt  0pt ; font-family: Arial,sans-serif; ">
<SPAN  STYLE="color: #0000ff; ">Rule Evaluation</SPAN></P><!--ForeHelp.Ignore--><HR><!--ForeHelp.EndIgnore--><!--ForeHelp.EndBanner-->

<P CLASS="Base">
<A HREF="Rule-Bas.htm">Rule-Based Controls</A> are applied after an initial hydraulic state of the network is computed (i.e., after time zero). They are evaluated over the course of a hydraulic simulation as follows:</P>
<OL STYLE="font-size: 10pt ; font-family: Arial,sans-serif; "><LI>
The rules are evaluated at a sub-hydraulic time step equal to 1/10 of the normal hydraulic time step (e.g., if hydraulics are updated every hour, then rules are evaluated every 6 minutes).</LI>
<LI>
Over this sub-hydraulic time step, clock time is updated as are the water levels in storage tanks (based on the last set of pipe flows computed). </LI>
<LI>
If a rule's conditions are satisfied, then its actions are added to a list. If an action conflicts with one for the same link already on the list then the action from the rule with the higher priority stays on the list and the other is removed. If the priorities are the same then the original action stays on the list.</LI>
<LI>
If the list is not empty, then the new actions are taken. If this causes the status of one or more links to change then a new hydraulic solution is computed.</LI>
<LI>
The action list is cleared and the next sub-hydraulic time step is checked.</LI><!--ForeHelp.Ignore-->
<!--ForeHelp.Browse NAME="rules" PREV="Rule_Exa.htm" NEXT=""-->
<BR CLEAR><HR><TABLE WIDTH="100%"><TR>
<TD ALIGN="LEFT" WIDTH="33%"><A HREF="Rule_Exa.htm"><IMG SRC="prev.gif" ALIGN="BOTTOM" ALT="prev.gif" BORDER=0></A>
<IMG SRC="disnext.gif" ALIGN="BOTTOM" ALT="disnext.gif" BORDER=0></TD>
<TD ALIGN="CENTER" WIDTH="33%"></TD>
<TD ALIGN="RIGHT" WIDTH="33%"></TD>
</TR></TABLE><!--ForeHelp.EndIgnore-->

</BODY></HTML>
